<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title th:text="${isEdit} ? 'Ch·ªânh s·ª≠a Stylist' : 'Th√™m Stylist'"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { display: flex; }
        #main-content { margin-left: 260px; padding: 2rem; flex-grow: 1; background-color: #f8f9fa; min-height: 100vh; }
        #sidebar {
            width: 260px; height: 100vh; position: fixed;
            background-color: #343a40; color: white; padding: 1rem;
        }
        #sidebar a { color: white; text-decoration: none; display: block; padding: 8px 10px; border-radius: 5px; }
        #sidebar a:hover, #sidebar .active { background-color: #495057; }
    </style>
</head>
<body>
<div th:replace="fragments/sidebar :: sidebar(5)"></div>

<div id="main-content">
    <div class="card mt-4 shadow-sm">
        <div class="card-body">
            <h4 class="card-title mb-4"
                th:text="${isEdit} ? '‚úèÔ∏è Ch·ªânh s·ª≠a Stylist' : '‚ûï Th√™m Stylist'"></h4>

            <!-- ================= FORM ================= -->
            <form th:object="${stylist}"
                  th:action="@{/admin/stylists/save}"
                  method="post" enctype="multipart/form-data">

                <!-- ·∫©n ID user n·∫øu ƒëang s·ª≠a -->
                <input type="hidden" th:if="*{user.id != null}" th:field="*{user.id}"/>

                <!-- ========== TH√îNG TIN T√ÄI KHO·∫¢N ========== -->
                <h5 class="mb-3">üßë Th√¥ng tin t√†i kho·∫£n</h5>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">H·ªç t√™n <span class="text-danger">*</span></label>
                        <input class="form-control" th:field="*{user.fullName}" required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Email <span class="text-danger">*</span></label>
                        <input type="email" class="form-control" th:field="*{user.email}" required>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
                        <input class="form-control" th:field="*{user.phone}">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">T√™n ƒëƒÉng nh·∫≠p</label>
                        <input class="form-control" th:field="*{user.username}" required>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">·∫¢nh ƒë·∫°i di·ªán</label>
                    <input type="file" class="form-control" name="avatarFile">
                    <img th:if="*{user.avatar != null}"
                         th:src="@{/uploads/avatar/{img}(img=*{user.avatar})}"
                         class="rounded mt-2" width="100">
                </div>

                <!-- ========== H·ªí S∆† STYLIST ========== -->
                <h5 class="mt-4 mb-3">‚úçÔ∏è H·ªì s∆° Stylist</h5>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label class="form-label">S·ªë nƒÉm kinh nghi·ªám</label>
                        <input type="number" class="form-control" th:field="*{experienceYears}">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">C·∫•p b·∫≠c</label>
                        <select class="form-select" th:field="*{level}">
                            <option value="Junior">Junior</option>
                            <option value="Senior">Senior</option>
                            <option value="Master">Master</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Tr·∫°ng th√°i</label>
                        <select class="form-select" th:field="*{user.status}">
                            <option value="ACTIVE">ACTIVE</option>
                            <option value="BLOCKED">BLOCKED</option>
                        </select>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Chuy√™n m√¥n (ph√¢n t√°ch b·∫±ng d·∫•u ph·∫©y)</label>
                    <input class="form-control" th:field="*{specialties}">
                </div>

                <div class="mb-3">
                    <label class="form-label">Gi·ªõi thi·ªáu ng·∫Øn</label>
                    <input class="form-control" th:field="*{intro}">
                </div>

                <div class="mb-3">
                    <label class="form-label">Ti·ªÉu s·ª≠ chi ti·∫øt (bio)</label>
                    <textarea class="form-control" th:field="*{bio}" rows="4"></textarea>
                </div>

                <!-- ========== THU NH·∫¨P ========== -->
                <h5 class="mt-4 mb-3">üí∏ L∆∞∆°ng &amp; Hoa h·ªìng</h5>
                <div class="row mb-4">
                    <div class="col-md-6">
                        <label class="form-label">L∆∞∆°ng c∆° b·∫£n (‚Ç´)</label>
                        <input type="number" class="form-control" th:field="*{salary}">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Hoa h·ªìng (%)</label>
                        <input type="number" step="0.01" class="form-control" th:field="*{commissionPercent}">
                    </div>
                </div>

                <!-- N√öT L∆ØU -->
                <div class="text-end">
                    <button type="submit" class="btn btn-success">üíæ L∆∞u Stylist</button>
                    <a th:href="@{/admin/stylists}" class="btn btn-secondary">‚¨Ö Quay l·∫°i</a>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>
